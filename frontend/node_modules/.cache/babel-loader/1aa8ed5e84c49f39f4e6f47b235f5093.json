{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Applications/www/Gadnes_Technology/TTU_PORTAL_GO/frontend/src/pages/Profile.tsx\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport Wrapper from \"../components/Wrapper\";\nimport { connect } from \"react-redux\";\nimport { User } from \"../models/user\";\nimport { setUser } from \"../redux/actions/setUserAction\";\n\nconst Profile = props => {\n  _s();\n\n  const [first_name, setFirstName] = useState('');\n  const [last_name, setLastName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [password_confirm, setPasswordConfirm] = useState('');\n  useEffect(() => {\n    setFirstName(props.user.first_name);\n    setLastName(props.user.last_name);\n    setEmail(props.user.email);\n  }, [props.user]);\n\n  const infoSubmit = async e => {\n    e.preventDefault();\n    const {\n      data\n    } = await axios.put('users/info', {\n      first_name,\n      last_name,\n      email\n    });\n    props.setUser(new User(data.id, data.first_name, data.last_name, data.email, data.role));\n  };\n\n  const passwordSubmit = async e => {\n    e.preventDefault();\n    await axios.put('users/password', {\n      password,\n      password_confirm\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Account Information\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: infoSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"First Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          defaultValue: first_name,\n          onChange: e => setFirstName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Last Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          defaultValue: last_name,\n          onChange: e => setLastName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          defaultValue: email,\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-secondary\",\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"mt-4\",\n      children: \"Change Password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: passwordSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"form-control\",\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password Confirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"form-control\",\n          onChange: e => setPasswordConfirm(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-secondary\",\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Profile, \"QO9C0tujcxq4WzZLDyNnhLN882Y=\");\n\n_c = Profile;\nexport default connect(state => {\n  return {\n    user: state.user\n  };\n}, dispatch => {\n  return {\n    setUser: user => dispatch(setUser(user))\n  };\n})(Profile);\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["/Applications/www/Gadnes_Technology/TTU_PORTAL_GO/frontend/src/pages/Profile.tsx"],"names":["axios","React","useEffect","useState","Wrapper","connect","User","setUser","Profile","props","first_name","setFirstName","last_name","setLastName","email","setEmail","password","setPassword","password_confirm","setPasswordConfirm","user","infoSubmit","e","preventDefault","data","put","id","role","passwordSubmit","target","value","state","dispatch"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, {Dispatch, SyntheticEvent, useEffect, useState} from 'react';\nimport Wrapper from \"../components/Wrapper\";\nimport {connect} from \"react-redux\";\nimport {User} from \"../models/user\";\nimport {setUser} from \"../redux/actions/setUserAction\";\n\nconst Profile = (props: { user: User, setUser: (user: User) => void }) => {\n    const [first_name, setFirstName] = useState('');\n    const [last_name, setLastName] = useState('');\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [password_confirm, setPasswordConfirm] = useState('');\n\n    useEffect(() => {\n        setFirstName(props.user.first_name);\n        setLastName(props.user.last_name);\n        setEmail(props.user.email);\n    }, [props.user]);\n\n    const infoSubmit = async (e: SyntheticEvent) => {\n        e.preventDefault();\n\n        const {data} = await axios.put('users/info', {\n            first_name,\n            last_name,\n            email\n        });\n\n        props.setUser(new User(\n            data.id,\n            data.first_name,\n            data.last_name,\n            data.email,\n            data.role\n        ));\n    }\n\n    const passwordSubmit = async (e: SyntheticEvent) => {\n        e.preventDefault();\n\n        await axios.put('users/password', {\n            password,\n            password_confirm\n        });\n    }\n\n    return (\n        <Wrapper>\n            <h3>Account Information</h3>\n            <form onSubmit={infoSubmit}>\n                <div className=\"mb-3\">\n                    <label>First Name</label>\n                    <input className=\"form-control\"\n                           defaultValue={first_name}\n                           onChange={e => setFirstName(e.target.value)}\n                    />\n                </div>\n                <div className=\"mb-3\">\n                    <label>Last Name</label>\n                    <input className=\"form-control\"\n                           defaultValue={last_name}\n                           onChange={e => setLastName(e.target.value)}\n                    />\n                </div>\n                <div className=\"mb-3\">\n                    <label>Email</label>\n                    <input className=\"form-control\"\n                           defaultValue={email}\n                           onChange={e => setEmail(e.target.value)}\n                    />\n                </div>\n\n                <button className=\"btn btn-outline-secondary\">Save</button>\n            </form>\n\n            <h3 className=\"mt-4\">Change Password</h3>\n            <form onSubmit={passwordSubmit}>\n                <div className=\"mb-3\">\n                    <label>Password</label>\n                    <input type=\"password\" className=\"form-control\"\n                           onChange={e => setPassword(e.target.value)}\n                    />\n                </div>\n                <div className=\"mb-3\">\n                    <label>Password Confirm</label>\n                    <input type=\"password\" className=\"form-control\"\n                           onChange={e => setPasswordConfirm(e.target.value)}\n                    />\n                </div>\n\n                <button className=\"btn btn-outline-secondary\">Save</button>\n            </form>\n        </Wrapper>\n    );\n};\n\nexport default connect(\n    (state: { user: User }) => {\n        return {\n            user: state.user\n        };\n    },\n    (dispatch: Dispatch<any>) => {\n        return {\n            setUser: (user: User) => dispatch(setUser(user))\n        }\n    }\n)(Profile);\n"]},"metadata":{},"sourceType":"module"}