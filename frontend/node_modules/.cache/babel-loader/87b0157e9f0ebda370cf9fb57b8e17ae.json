{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Applications/www/Gadnes_Technology/TTU_PORTAL_GO/frontend/src/pages/users/UserEdit.tsx\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Wrapper from \"../../components/Wrapper\";\n\nconst UserEdit = props => {\n  _s();\n\n  const [first_name, setFirstName] = useState('');\n  const [last_name, setLastName] = useState('');\n  const [email, setEmail] = useState('');\n  const [role_id, setRoleId] = useState('');\n  const [roles, setRoles] = useState([]);\n  const [redirect, setRedirect] = useState(false);\n  useEffect(() => {\n    (async () => {\n      const response = await axios.get('roles');\n      setRoles(response.data);\n      const {\n        data\n      } = await axios.get(`users/${props.match.params.id}`);\n      setFirstName(data.first_name);\n      setLastName(data.last_name);\n      setEmail(data.email);\n      setRoleId(data.role.id);\n    })();\n  }, []);\n\n  const submit = async e => {\n    e.preventDefault();\n    await axios.put(`users/${props.match.params.id}`, {\n      first_name,\n      last_name,\n      email,\n      role_id\n    });\n    setRedirect(true);\n  };\n\n  if (redirect) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/users\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"First Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          defaultValue: first_name,\n          onChange: e => setFirstName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Last Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          defaultValue: last_name,\n          onChange: e => setLastName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          defaultValue: email,\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Role\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"form-control\",\n          value: role_id,\n          onChange: e => setRoleId(e.target.value),\n          children: roles.map(r => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: r.id,\n              children: r.name\n            }, r.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 33\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-secondary\",\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UserEdit, \"9Qbr8c+CfqkxmwsnR3jfTknL7Yw=\");\n\n_c = UserEdit;\nexport default UserEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserEdit\");","map":{"version":3,"sources":["/Applications/www/Gadnes_Technology/TTU_PORTAL_GO/frontend/src/pages/users/UserEdit.tsx"],"names":["axios","React","useEffect","useState","Redirect","Wrapper","UserEdit","props","first_name","setFirstName","last_name","setLastName","email","setEmail","role_id","setRoleId","roles","setRoles","redirect","setRedirect","response","get","data","match","params","id","role","submit","e","preventDefault","put","target","value","map","r","name"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, {SyntheticEvent, useEffect, useState} from 'react';\nimport {Redirect} from 'react-router-dom';\nimport Wrapper from \"../../components/Wrapper\";\nimport {Role} from \"../../models/role\";\n\nconst UserEdit = (props: any) => {\n    const [first_name, setFirstName] = useState('');\n    const [last_name, setLastName] = useState('');\n    const [email, setEmail] = useState('');\n    const [role_id, setRoleId] = useState('');\n    const [roles, setRoles] = useState([]);\n    const [redirect, setRedirect] = useState(false);\n\n    useEffect(() => {\n        (\n            async () => {\n                const response = await axios.get('roles');\n\n                setRoles(response.data);\n\n                const {data} = await axios.get(`users/${props.match.params.id}`);\n\n                setFirstName(data.first_name);\n                setLastName(data.last_name);\n                setEmail(data.email);\n                setRoleId(data.role.id);\n            }\n        )()\n    }, []);\n\n    const submit = async (e: SyntheticEvent) => {\n        e.preventDefault();\n\n        await axios.put(`users/${props.match.params.id}`, {\n            first_name,\n            last_name,\n            email,\n            role_id\n        });\n\n        setRedirect(true);\n    }\n\n    if (redirect) {\n        return <Redirect to=\"/users\"/>\n    }\n\n    return (\n        <Wrapper>\n            <form onSubmit={submit}>\n                <div className=\"mb-3\">\n                    <label>First Name</label>\n                    <input className=\"form-control\"\n                           defaultValue={first_name}\n                           onChange={e => setFirstName(e.target.value)}\n                    />\n                </div>\n                <div className=\"mb-3\">\n                    <label>Last Name</label>\n                    <input className=\"form-control\"\n                           defaultValue={last_name}\n                           onChange={e => setLastName(e.target.value)}/>\n                </div>\n                <div className=\"mb-3\">\n                    <label>Email</label>\n                    <input className=\"form-control\"\n                           defaultValue={email}\n                           onChange={e => setEmail(e.target.value)}/>\n                </div>\n\n                <div className=\"mb-3\">\n                    <label>Role</label>\n                    <select className=\"form-control\"\n                            value={role_id}\n                            onChange={e => setRoleId(e.target.value)}>\n                        {roles.map((r: Role) => {\n                            return (\n                                <option key={r.id} value={r.id}>{r.name}</option>\n                            )\n                        })}\n                    </select>\n                </div>\n\n                <button className=\"btn btn-outline-secondary\">Save</button>\n            </form>\n        </Wrapper>\n    );\n};\n\nexport default UserEdit;\n"]},"metadata":{},"sourceType":"module"}