{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Applications/www/TTU_CORE_ERP_PORTAL/frontend/src/pages/products/ProductEdit.tsx\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Wrapper from \"../../components/Wrapper\";\nimport ImageUpload from \"../../components/ImageUpload\";\n\nconst ProductEdit = props => {\n  _s();\n\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [image, setImage] = useState('');\n  const [price, setPrice] = useState('');\n  const [redirect, setRedirect] = useState(false);\n  const ref = useRef(null);\n  useEffect(() => {\n    (async () => {\n      const {\n        data\n      } = await axios.get(`products/${props.match.params.id}`);\n      setTitle(data.title);\n      setDescription(data.description);\n      setImage(data.image);\n      setPrice(data.price);\n    })();\n  }, []);\n\n  const submit = async e => {\n    e.preventDefault();\n    await axios.put(`products/${props.match.params.id}`, {\n      title,\n      description,\n      image,\n      price\n    });\n    setRedirect(true);\n  };\n\n  const updateImage = url => {\n    if (ref.current) {\n      ref.current.value = url;\n    }\n\n    setImage(url);\n  };\n\n  if (redirect) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          defaultValue: title,\n          onChange: e => setTitle(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"form-control\",\n          defaultValue: description,\n          onChange: e => setDescription(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            ref: ref,\n            defaultValue: image,\n            onChange: e => setImage(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ImageUpload, {\n            uploaded: updateImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          className: \"form-control\",\n          defaultValue: price,\n          onChange: e => setPrice(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-secondary\",\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ProductEdit, \"zE/JzHoITwkWWz1/qFmtrnR2R0A=\");\n\n_c = ProductEdit;\nexport default ProductEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductEdit\");","map":{"version":3,"sources":["/Applications/www/TTU_CORE_ERP_PORTAL/frontend/src/pages/products/ProductEdit.tsx"],"names":["axios","React","useEffect","useRef","useState","Redirect","Wrapper","ImageUpload","ProductEdit","props","title","setTitle","description","setDescription","image","setImage","price","setPrice","redirect","setRedirect","ref","data","get","match","params","id","submit","e","preventDefault","put","updateImage","url","current","value","target"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, {SyntheticEvent, useEffect, useRef, useState} from 'react';\nimport {Redirect} from 'react-router-dom';\nimport Wrapper from \"../../components/Wrapper\";\nimport ImageUpload from \"../../components/ImageUpload\";\n\nconst ProductEdit = (props: any) => {\n    const [title, setTitle] = useState('');\n    const [description, setDescription] = useState('');\n    const [image, setImage] = useState('');\n    const [price, setPrice] = useState('');\n    const [redirect, setRedirect] = useState(false);\n    const ref = useRef<HTMLInputElement>(null);\n\n    useEffect(() => {\n        (\n            async () => {\n                const {data} = await axios.get(`products/${props.match.params.id}`);\n\n                setTitle(data.title);\n                setDescription(data.description);\n                setImage(data.image);\n                setPrice(data.price);\n            }\n        )();\n    }, []);\n\n    const submit = async (e: SyntheticEvent) => {\n        e.preventDefault();\n\n        await axios.put(`products/${props.match.params.id}`, {\n            title,\n            description,\n            image,\n            price\n        });\n\n        setRedirect(true);\n    }\n\n    const updateImage = (url: string) => {\n        if (ref.current) {\n            ref.current.value = url;\n        }\n        setImage(url);\n    }\n\n    if (redirect) {\n        return <Redirect to=\"/products\"/>;\n    }\n\n    return (\n        <Wrapper>\n            <form onSubmit={submit}>\n                <div className=\"mb-3\">\n                    <label>Title</label>\n                    <input className=\"form-control\"\n                           defaultValue={title}\n                           onChange={e => setTitle(e.target.value)}\n                    />\n                </div>\n                <div className=\"mb-3\">\n                    <label>Description</label>\n                    <textarea className=\"form-control\"\n                              defaultValue={description}\n                              onChange={e => setDescription(e.target.value)}\n                    ></textarea>\n                </div>\n                <div className=\"mb-3\">\n                    <label>Image</label>\n                    <div className=\"input-group\">\n                        <input className=\"form-control\"\n                               ref={ref}\n                               defaultValue={image}\n                               onChange={e => setImage(e.target.value)}\n                        />\n                        <ImageUpload uploaded={updateImage}/>\n                    </div>\n                </div>\n                <div className=\"mb-3\">\n                    <label>Price</label>\n                    <input type=\"number\" className=\"form-control\"\n                           defaultValue={price}\n                           onChange={e => setPrice(e.target.value)}\n                    />\n                </div>\n                <button className=\"btn btn-outline-secondary\">Save</button>\n            </form>\n        </Wrapper>\n    );\n};\n\nexport default ProductEdit;\n"]},"metadata":{},"sourceType":"module"}